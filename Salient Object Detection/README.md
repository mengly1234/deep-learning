# 显著性目标检测

## 一、基础知识积累

​		显著性目标检测是指从自然场景中检测喝分割显著性目标，并生成一个显著性图。显著图是一个与原始图像大小相同的灰度图，每个像素值代表了该像素所在位置的显著程度，像素值越高，这个位置约有可能属于显著目标，像素值月底，则表示该位置的显著性越低，可能是背景或者非显著区域。

### 1、与图像分割的区别

​		图像分割是为每个图像像素分配一个标签，且标签可以是多类别的，而显著性目标检测只是生成一个mask来表示每个位置的显著程度。

### 2、解决问题的关键

将目标与干扰物分开。

### 3、研究现状

（1）经典方法

​		1）基于内在线索：内在线索即仅从图像本身提取的各种线索。

​			 a）基于内在线索的基于块的模型：计算像素级的中心-环绕对比度

​			 b）基于内在线索的基于区域的模型：首先将输入图像分割成与强度边缘对齐的区域，然后计算区域显著图

​		2）基于外在线索：外在线索即图像之外的用户注释、深度图活类似图像的统计信息等。

（2）基于深度学习的方法

​		1）基于CNN的方法：

​			将输入图像分割成单尺度或者多尺度的小区域，使用CNN提取高级特征，然后送入到MLP（多层感知器）以确定每个小区与的显著值。仅仅只是使用CNN来提取某一区域的高级特征，没有利用到图像的空间信息。

​		2）使用FCN的语义分割的架构

### 4、评价指标

（1）精确率 - 召回率：

​          得到的显著图 S 转换为二进制掩码 M，真实值 G：

​		  精准度：
$$
Precision = \frac{|M\bigcap G|}{|M|}
$$
​		  召回率：
$$
Recall = \frac{|M\bigcap G|}{|G|}
$$
​		 **S 的二值化：**

​           a、计算平均值作为自适应阈值

​		   b、使用0-255之间的阈值，对于每个阈值，计算一对精度和召回，绘制P-R曲线

​		   c、使用类似 GrabCut 的算法。这里，首先计算 PR 曲线，并选择导致 95% 召回率的阈值。利用该阈值，生成初始二进制掩码，然后将其用于初始化迭代 GrabCut 分割以逐渐细化二进制掩码。

（2）F-measure：

​		   定义为具有非负权重$\beta^{2}$的精度和召回率的加权调和平均值：

$$
F_{\beta} = \frac{(1+\beta^{2})Precision\times Recall}{(\beta)Precision + Recall}
$$
（3）ROC曲线：

​			假阳性率（FPR）：
$$
FPR = \frac{|M\bigcap G|}{|G|}
$$
​		    真阳性率（TPR）
$$
FPR = \frac{|M\bigcap G|}{|M\bigcap \overline G|+|M\bigcap \overline G|}
$$
​           $\overline M$ 和  $\overline G$ 表示 M, G 的补集

（4）平均绝对误差（MAE）
$$
MAE = \frac{1}{WH} \sum_{x=1}^{W} \sum_{y=1}^{H} ||S_{(x,y)}-G_{(x,y)}||
$$

W是图像的宽度，H是图像的高度，S是连续显著图，G是真实值。

## 二、算法

### 1、经典算法：

**（1）ltti算法**：融合了颜色、亮度以及方向特征的方法。具体过程如下：

​		将图像转换到Lab颜色空间，通过多次下采样生成9层特征金字塔，每一层特征提取颜色、亮度、方向三种特征信息并分别进行归一化操作，得到各特征对应的显著图。将各特征显著图融合之后再次归一化，得到最终的显著图。

**（2）FT算法：**一种基于Lab颜色空间像素向量与平均像素向量欧式距离的显著性检测算法。具体过程如下：

​		输入图像进行高斯滤波，去除高频信息，然后从RGB颜色空间转换到Lab颜色空间，计算Lab颜色空间向量平均值，计算每个位置的三个通道均值与高斯滤波后图像的欧氏距离之和得到每个位置的显著值。

**（3）HC算法：**一种基于颜色全局直方图的颜色对比算法，像素点与其他像素之间的颜色特征差异越大则显著性越高，具体过程如下：

​		输入图像从RGB转换到Lab空间，并将L，a，b均匀量化为12个区间（三个通道，共12X12X12个区间），减少颜色总数，再通过K-means聚类，将颜色数量进一步减少，假设为K中。统计量化后每种颜色在图像中出现的频率，每种颜色的显著值为它与其他颜色的差异加权和。

**（4）CA算法：**一种基于局部特征和全局特征的显著性检测算法。与ltti和HC不同，CA算法强调场景语义上下文，人为显著性区域不仅应区别于周围环境，还应保持其内部一致性和完整性。具体过程如下：

​		a、生成多尺度特征金字塔，避免单一尺度下对小目标或大目标的漏检。

​		b、计算局部上下文窗口（像素点 p 周围局部窗口），计算像素点p与窗口内其他像素的颜色差异（使用欧式距离来表示差异）。

​		c、计算全局稀有性：将图像分割为超像素，通过计算超像素Ri与其他超像素的最小对比度，来确保显著性区域在全局范围内是独特的。

​		d、将不同尺度的显著图加权融合，生成最终显著图。